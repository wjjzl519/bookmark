# Dawang Bookmark 插件推荐与使用手册

## 📖 插件简介

**Dawang Bookmark** 是一款专为 IntelliJ IDEA 设计的智能收藏插件，帮助开发者高效管理和组织代码片段、控制台输出以及重要文本内容。无论你是需要保存代码示例、记录调试日志，还是整理学习笔记，这款插件都能让你的工作更加高效。

### ✨ 为什么选择 Dawang Bookmark？

1. **📝 多场景支持**：不仅支持编辑器中的代码收藏，还能收藏控制台输出内容
2. **🏷️ 智能分类**：通过标签系统轻松管理大量收藏内容
3. **⏰ 时间排序**：自动按时间排序，快速找到最近的收藏
4. **🔍 快速定位**：一键跳转到源文件位置，提高开发效率
5. **💾 持久化存储**：收藏内容自动保存，重启 IDE 不丢失
6. **🎨 美观界面**：现代化的工具窗口，Markdown 格式展示，阅读体验佳

---

## 🚀 快速开始

### 安装方式

#### 方式一：从 Marketplace 安装（推荐）

1. 打开 IntelliJ IDEA
2. 进入 `File` → `Settings` → `Plugins`（Windows/Linux）
   或 `IntelliJ IDEA` → `Preferences` → `Plugins`（macOS）
3. 切换到 `Marketplace` 标签页
4. 搜索 `Dawang Bookmark`
5. 点击 `Install` 安装
6. 重启 IDE 完成安装

#### 方式二：手动安装

1. 下载插件 ZIP 文件（`dawang.1.0.2.zip`）
2. 进入 `Settings` → `Plugins`
3. 点击 ⚙️ 图标，选择 `Install Plugin from Disk...`
4. 选择下载的 ZIP 文件
5. 重启 IDE

---

## 📚 使用手册

### 一、基础操作

#### 1. 收藏编辑器中的内容

**步骤：**
1. 在编辑器中选中要收藏的文本（代码、注释等）
2. 右键点击选中内容
3. 选择 `收藏选中内容` 菜单项
   - 或使用快捷键：`Ctrl + Alt + B`（Windows/Linux）或 `Cmd + Option + B`（macOS）

**示例场景：**
- 收藏常用的代码片段
- 保存重要的注释说明
- 记录代码示例和模板

#### 2. 收藏控制台输出

**步骤：**
1. 在控制台（Console）中选中要收藏的输出内容
2. 右键点击选中内容
3. 选择 `收藏选中内容`

**示例场景：**
- 保存错误日志用于后续分析
- 记录重要的调试信息
- 收藏 API 响应结果

#### 3. 添加标签和备注

收藏时会弹出对话框：

1. **标签选择**：
   - 如果已有标签，可以从下拉列表中选择
   - 也可以输入新标签创建新的分类
   - 勾选"新建标签"可以强制创建新标签

2. **备注输入**（可选）：
   - 在备注框中输入说明文字
   - 帮助后续快速理解收藏内容

**标签命名建议：**
- `代码片段`、`工具类`、`配置示例`
- `错误日志`、`调试信息`、`API响应`
- `学习笔记`、`最佳实践`、`待办事项`

---

### 二、管理收藏内容

#### 1. 打开工具窗口

**方式一：**
- 菜单：`View` → `Tool Windows` → `Bookmark`

**方式二：**
- 使用快捷键：`Alt + 数字键`（根据工具窗口位置）

**方式三：**
- 点击 IDE 底部的 `Bookmark` 标签

#### 2. 查看收藏列表

工具窗口以树形结构展示：

```
收藏
├── 代码片段 (3)
│   ├── 快速排序算法 - 2024-01-15 10:30:00 [备注]
│   ├── 日期格式化工具 - 2024-01-14 15:20:00
│   └── HTTP请求封装 - 2024-01-13 09:15:00
├── 错误日志 (2)
│   ├── NullPointerException - 2024-01-12 14:45:00
│   └── 数据库连接超时 - 2024-01-11 11:30:00
└── 学习笔记 (5)
    └── ...
```

**显示信息：**
- 标签名称和该标签下的收藏数量
- 收藏内容预览（前50个字符）
- 收藏时间
- 备注信息（如果有）

#### 3. 查看收藏详情

**方法：**
- 双击收藏项，打开详情对话框

**详情对话框功能：**
- 📋 查看完整内容（支持 Markdown 格式）
- 📝 查看标签、备注、文件路径等信息
- 📅 查看收藏时间
- 📋 复制内容到剪贴板

---

### 三、高级操作

#### 1. 复制收藏内容

**方法一：**
- 在详情对话框中点击 `复制内容` 按钮

**方法二：**
- 在工具窗口中右键点击收藏项
- 选择 `复制内容`

#### 2. 删除收藏项

**步骤：**
1. 在工具窗口中右键点击要删除的收藏项
2. 选择 `删除`
3. 确认删除操作

**批量删除：**
- 使用工具栏的 `清空` 按钮可以清空所有收藏
- ⚠️ 注意：此操作不可恢复！

#### 3. 刷新收藏列表

- 点击工具栏的 `刷新` 按钮（🔄 图标）
- 或右键菜单选择刷新

---

### 四、快捷键说明

| 操作 | Windows/Linux | macOS |
|------|---------------|-------|
| 收藏选中内容 | `Ctrl + Alt + B` | `Cmd + Option + B` |
| 打开工具窗口 | `Alt + 数字键` | `Cmd + 数字键` |

---

## 💡 使用技巧

### 1. 标签管理策略

**按功能分类：**
- `工具类`、`工具方法`、`工具函数`
- `配置`、`配置文件`、`配置示例`

**按项目分类：**
- `项目A-前端`、`项目A-后端`
- `项目B-API`、`项目B-数据库`

**按学习分类：**
- `Java学习`、`Spring学习`、`算法学习`

### 2. 备注使用建议

- **代码片段**：说明用途、参数说明、使用示例
- **错误日志**：记录错误原因、解决方案
- **学习笔记**：记录知识点、参考资料链接

### 3. 高效工作流

1. **开发时**：遇到有用的代码片段立即收藏
2. **调试时**：收藏错误日志和解决方案
3. **学习时**：记录重要知识点和代码示例
4. **定期整理**：使用标签和备注保持收藏内容有序

---

## ❓ 常见问题

### Q1: 收藏的内容存储在哪里？

A: 收藏内容存储在 IDEA 配置目录下的 `options/bookmark-plugin.xml` 文件中。数据会自动保存，重启 IDE 不会丢失。

### Q2: 可以导出收藏内容吗？

A: 当前版本暂不支持导出功能，但数据文件是 XML 格式，可以直接查看和备份。

### Q3: 收藏的内容有大小限制吗？

A: 理论上没有严格限制，但建议单个收藏内容不要过大，以保证 IDE 性能。

### Q4: 支持搜索功能吗？

A: 当前版本暂不支持搜索，但可以通过标签分类快速定位。搜索功能可能在后续版本中添加。

### Q5: 双击收藏项没有反应？

A: 请确保双击的是收藏项（叶子节点），而不是标签节点。如果问题持续，请尝试先选中收藏项再双击。

### Q6: 插件会导致 IDE 崩溃吗？

A: 版本 1.0.2 已修复所有已知的崩溃问题，包括双击事件处理和 JCEF 浏览器组件的异常处理。如果遇到问题，请更新到最新版本。

### Q7: 支持哪些 IDE 版本？

A: 支持 IntelliJ IDEA 2021.2 及更高版本（直到 241.*）。

---

## 🔄 版本更新

### v1.0.2（最新）

**Bug 修复：**
- ✅ 修复双击收藏记录时 IDE 崩溃的问题
- ✅ 修复直接双击（未选中）时导致的闪退问题
- ✅ 改进 JCEF 浏览器组件的异常处理，添加自动降级机制
- ✅ 增强对话框创建的异常处理和空值检查
- ✅ 优化双击事件处理，添加节点类型验证

### v1.0.0

**初始版本：**
- ✅ 支持编辑器和控制台内容收藏
- ✅ 支持标签分类和时间排序
- ✅ 提供工具窗口查看收藏内容
- ✅ 支持跳转到源位置
- ✅ 支持复制收藏内容
- ✅ 支持删除收藏项

---

## 🤝 反馈与支持

### 问题反馈

如果遇到问题或有功能建议，欢迎通过以下方式反馈：

- **Email**: zlwjj1001@gmail.com
- **Website**: https://www.dawang.com

### 贡献

欢迎提交 Issue 和 Pull Request 来帮助改进插件！

---

## 📄 许可证

查看 `LICENSE` 文件了解许可证详情。

---

## 🙏 致谢

感谢所有使用和反馈的用户，你们的支持是插件持续改进的动力！

---

**Happy Coding! 🎉**

